---
description: Web app product context, user journeys, and project structure
globs: ["apps/web/**/*"]
---

# Lockd Web App — Product Context

## The Frontend IS the Product

Users don't interact with smart contracts directly — they interact with this web app. A confusing form loses a depositor. A broken claim page loses a claimant.

## Three User Journeys to Protect

1. **Depositor**: Landing → Connect wallet → Create deposit → Share claim link
2. **Claimant**: Click claim link → Connect wallet → Claim funds (often their FIRST Lockd interaction)
3. **Certifier**: Navigate to Certify → Drop file → Certify hash → Verify later

## Tech Stack

- Next.js 16 (App Router), React 19, TypeScript (strict)
- Tailwind CSS, Radix UI, Framer Motion
- wagmi v2, viem, RainbowKit
- next-intl (English + French)

## Project Structure

```
apps/web/src/
├── app/
│   ├── page.tsx               # / — Landing page (SEO, no wallet)
│   ├── payments/page.tsx      # /payments — Payments landing (SEO)
│   ├── inheritance/page.tsx   # /inheritance — Inheritance landing (SEO)
│   ├── certify/page.tsx       # /certify — Certify landing (SEO)
│   ├── app/
│   │   ├── layout.tsx         # App shell (Header, AppNav, Footer)
│   │   ├── page.tsx           # /app — Payments dashboard
│   │   ├── certify/page.tsx   # /app/certify — Certify + Verify
│   │   └── inheritance/page.tsx # /app/inheritance — Coming soon
│   └── claim/[id]/page.tsx    # /claim/[id] — Public claim page
├── components/
│   ├── ui/                    # Reusable primitives
│   ├── app/                   # Payments feature components
│   ├── certify/               # Certification feature components
│   └── app-navigation.tsx     # Product navigation for app shell
├── lib/                       # Contracts, wagmi, utils
└── i18n/                      # Internationalization config
```

**Landing pages** (`/`, `/payments`, `/inheritance`, `/certify`) are for SEO and explanation — no wallet required.
**App pages** (`/app`, `/app/certify`, `/app/inheritance`) are functional — wallet-connected, task-focused.

## Page-Specific UX Priorities

**Claim page** — Most critical. Often first interaction. Must load fast, explain clearly, work on mobile. Handle: already claimed, wrong wallet, expired deadline, invalid ID.

**Create deposit form** — Primary funnel. Minimize friction, smart defaults, real-time validation, seamless ERC20 approval flow.

**Landing page** — Top of funnel. Fast load, value prop in < 5 seconds, prominent CTA, mobile-first.

**Certify page** — Simplest flow. Drag-and-drop, local hash, one click to certify.
